@base <https://periodo.github.io/edtf-ontology/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix re: <rules/regexes/> .
@prefix string: <http://www.w3.org/2000/10/swap/string#> .

re:YEAR = "-?[0-9]{4}" .
re:MONTH = "(?:0[1-9]|1[0-2])" .
re:DAY = "(?:0[1-9]|[12][0-9]|3[01])" .
re:HOUR = "(?:[01][0-9]|2[0-3])" .
re:MINUTE = "[0-5][0-9]" .
re:SECOND = "[0-5][0-9](?:\\.[0-9]+)?" .
re:SHIFT_H = "(?:0[0-9]|1[0-4])" .
re:SHIFT_M = "[0-5][0-9]" .
re:SHIFT = "(?:(?:0[0-9]|1[0-3])(?::[0-5][0-9])?|14(?::00)?)" .

{
    re:YEAR = ?y . re:MONTH = ?m . re:DAY = ?d
    . (?y "-" ?m "-" ?d) string:concatenation ?r
} => {
    re:DATE = ?r
} .

{
    re:YEAR = ?y . re:MONTH = ?m . re:DAY = ?d
    . (?y "(?:-" ?m "(?:-" ?d ")?" ")?") string:concatenation ?r
} => {
    re:REDUCED_PRECISION_DATE = ?r
} .

{
    re:HOUR = ?h . re:MINUTE = ?m . re:SECOND = ?s
    . (?h ":" ?m ":" ?s) string:concatenation ?r
} => {
    re:TIME = ?r
} .

{
    re:DATE = ?d . re:TIME = ?t
    . (?d "T" ?t) string:concatenation ?r
} => {
    re:DATETIME = ?r
} .
